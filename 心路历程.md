# 做runoff时的心路历程和一些教训


## 首先，整理一下我的心路历程：

### 第一次
看题的时候看不仔细，草率的以为：第一次计voter们的第一志愿票无果之后，就直接计所有voter的第二志愿

然后耗费大量的精力在思考：我要怎么记录loop的次数，在这里内耗大概花了一小时

### 第二次

习概课上到一半，看的时候终于回过神来，看到了这句话：

>anyone who originally chose that candidate as their first preference now has ***their second preference*** considered.

好 然后又理解错了：

以为只计那些originally chose that candidate as their first preference”的 voter的得票，又把问题搞复杂了。。

### 第三次

下午膝盖课就在这两个事情之间不断内耗，今晚绝望中看到hints中的一句：
>Recall that once you’ve cast a vote for a voter’s first non-eliminated candidate,
>you’ll want to stop there, not continue down their ballot. You can ***break out of a loop*** early using break inside of a conditional.

这下顿悟了!

他的意思就是 **按顺位顺序，只要每个人的第一志愿没被eliminated，就用这个计票，如果被eliminated，**

**就计第二志愿，以此类推，这显然需要两个循环套起来，所以break就有了用武之地。**

而看清楚之后，这个板块的代码也花费不到15分钟就干出来了。。。

### 心路历程总结

说实话，抛开那个tabulate，其他都没花多少时间(无非循环迭代嘛)，甚至在上膝盖课之前我就都搞定了，

这样算来，是浪费了一下午的习概课时间（苦笑）

但无论如何，柳暗花明的感觉还是很爽的，也有很多收获。

## 一些收获

### 伪代码

之前上程序设计课一直不喜欢伪代码，觉得很浪费时间，现在觉得这在程序复杂的时候 ***（like this one）***

就会非常有用，可以整理思路

### 关于main()

这个思路其实之前就有，但现在再整理一下吧。

就是main函数里尽量做到简洁，把不必要的代码打包成一个个函数扔出去，这样既美观，也方便理解。

### 巧妙利用函数Output

举两个例子，巧妙运用函数的输出值，在调用函数的时候顺便完成条件判断，使程序显得紧凑。

```
// Check if election has been won
        bool won = print_winner();
        if (won)
        {
            break;
        }
```

```
 // Record vote, unless it's invalid
            if (!vote(i, j, name))
            {
                printf("Invalid vote.\n");
                return 4;
            }
```

将来都可以好好借鉴。

### 最重要的：理解！

在理解上吃大亏是我没想到的。以后要在第一次就认认真真读要求，不要等到第二甚至第三次才真正弄懂它的含义。

不过这似乎也不能怪我，感觉这个problem的难点就在于理解它的含义。

end of this problem



